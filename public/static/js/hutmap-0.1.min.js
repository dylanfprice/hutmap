/*
 MIT License, http://www.opensource.org/licenses/MIT
*/
'use strict';(function(){angular.module("AngularGM",[]).value("angulargmDefaults",{mapOptions:{zoom:8,center:new google.maps.LatLng(46,-120),mapTypeId:google.maps.MapTypeId.ROADMAP}})})();
(function(){angular.module("AngularGM").directive("gmMap",["$timeout",function(a){return{restrict:"AE",priority:100,template:'<div><div id="" style="width:100%;height:100%;"></div><div ng-transclude></div></div>',transclude:!0,replace:!0,scope:{gmCenter:"=",gmZoom:"=",gmBounds:"=",gmMapOptions:"&",gmMapId:"&"},controller:"angulargmMapController",link:function(b,d,c,e){if(angular.isDefined(b.gmCenter)||(b.center={}),angular.isDefined(b.gmBounds)||(b.bounds={}),!angular.isDefined(b.gmMapId))throw"angulargm must have non-empty gmMapId attribute";
var f=!1,h=!1,g=!1;c.hasOwnProperty("gmCenter")&&(f=!0);c.hasOwnProperty("gmZoom")&&(h=!0);c.hasOwnProperty("gmBounds")&&(g=!0);d=function(){a(function(){(f||h||g)&&b.$apply(function(){if(f&&(b.gmCenter=e.center),h&&(b.gmZoom=e.zoom),g){var a=e.bounds;a&&(b.gmBounds=a)}})})};e.addMapListener("drag",d);e.addMapListener("zoom_changed",d);e.addMapListener("center_changed",d);e.addMapListener("bounds_changed",d);f&&b.$watch("gmCenter",function(a,c){a!==c&&!e.dragging&&a&&(e.center=a)},!0);h&&b.$watch("gmZoom",
function(a,c){null!=a&&!isNaN(a)&&a!==c&&(e.zoom=a)});g&&b.$watch("gmBounds",function(a,c){a!==c&&!e.dragging&&a&&(e.bounds=a)})}}}])})();
(function(){angular.module("AngularGM").directive("gmMarkers",["$log","$parse","$timeout","angulargmUtils",function(a,b,d,c){c.latLngEqual;var e=c.objToLatLng;return{restrict:"AE",priority:100,scope:{gmObjects:"&",gmGetLatLng:"&",gmGetMarkerOptions:"&",gmEvent:"&"},require:"^gmMap",link:function(a,c,g,k){if(!("gmObjects"in g))throw"gmObjects attribute required";if(!("gmGetLatLng"in g))throw"gmGetLatLng attribute required";var n={};angular.forEach(g,function(a,c){if(0===c.lastIndexOf("gmOn",0)){var j=
angular.lowercase(c.substring(4)),e=b(a);n[j]=e}});var j=function(c){var b={};angular.forEach(c,function(c){var j=a.gmGetLatLng({object:c}),l=e(j);if(null!=l){var h=a.gmGetMarkerOptions({object:c}),p=l.toUrlValue(k.precision);if(b[p]=c,!k.hasMarker(j.lat,j.lng)){p={};angular.extend(p,h,{position:l});k.addMarker(p);var g=k.getMarker(j.lat,j.lng);angular.forEach(n,function(b,j){k.addListener(g,j,function(){d(function(){b(a.$parent.$parent,{object:c,marker:g})})})})}}});var j=[];k.forEachMarker(function(a){a.getPosition().toUrlValue(k.precision)in
b||j.push(a)});angular.forEach(j,function(a){a=a.getPosition();k.removeMarker(a.lat(),a.lng())})};a.$watch("gmObjects().length",function(c,b){null!=c&&c!==b&&j(a.gmObjects())});a.$watch("gmObjects()",function(c,b){null!=c&&c!==b&&j(a.gmObjects())});a.$watch("gmEvent()",function(a,c){if(null!=a&&a!==c){var b=a.event,j=a.location,j=k.getMarker(j.lat(),j.lng());null!=j&&d(angular.bind(this,k.trigger,j,b))}});d(angular.bind(null,j,a.gmObjects()))}}}])})();
(function(){angular.module("AngularGM").factory("angulargmContainer",["$q",function(a){var b={},d={};return{addMap:function(a,e){if(!(e instanceof google.maps.Map))throw"map not a google.maps.Map: "+e;if(a in b)throw"already contain map with id "+a;b[a]=e;a in d&&d[a].resolve(e)},getMap:function(a){return b[a]},getMapPromise:function(c){var b=d[c]||a.defer();return d[c]=b,b.promise},removeMap:function(a){a in b&&delete b[a];a in d&&delete d[a]},clear:function(){b={};d={}}}}])})();
(function(){angular.module("AngularGM").factory("angulargmUtils",[function(){function a(a,d){var c;if(a instanceof google.maps.LatLng&&d instanceof google.maps.LatLng){c=a.lat();var e=d.lat();if(c=1E-6>Math.abs(c-e))c=a.lng(),e=d.lng(),c=1E-6>Math.abs(c-e)}else c=!1;return c}return{latLngEqual:a,boundsEqual:function(b,d){if(!(b instanceof google.maps.LatLngBounds&&d instanceof google.maps.LatLngBounds))return!1;var c=b.getSouthWest(),e=d.getSouthWest(),f=b.getNorthEast(),h=d.getNorthEast();return a(c,
e)&&a(f,h)},latLngToObj:function(a){if(!(a instanceof google.maps.LatLng))throw"latLng not a google.maps.LatLng";return{lat:a.lat(),lng:a.lng()}},objToLatLng:function(a){if(null!=a){var d=a.lat;a=a.lng;if(!(null==d||null==a||isNaN(d)||isNaN(a)))return new google.maps.LatLng(d,a)}return null},hasNaN:function(a){if(!(a instanceof google.maps.LatLng))throw"latLng must be a google.maps.LatLng";var d=null==a.lat()||null==a.lng();a=isNaN(a.lat())||isNaN(a.lng());return d||a}}}])})();
(function(){angular.module("AngularGM").controller("angulargmMapController",["$scope","$element","angulargmUtils","angulargmDefaults","angulargmContainer",function(a,b,d,c,e){var f=d.latLngEqual,h=d.boundsEqual,g=d.hasNaN;this._getConfig=function(a,c){var b={};return angular.extend(b,c.mapOptions,a.gmMapOptions()),b};this._createMap=function(a,c,b,l){var e=l.getMap(a);if(e)throw"A map with id "+a+" already exists. You must use different ids for each instance of the angulargm directive.";return e=
new google.maps.Map(c[0],b),l.addMap(a,e),e};this._initDragListeners=function(){var a=this;this.addMapListener("dragstart",function(){a.dragging=!0});this.addMapListener("idle",function(){a.dragging=!1});this.addMapListener("drag",function(){a.dragging=!0})};this._destroy=function(a){e.removeMap(a)};this.addMapListener=function(a,c){google.maps.event.addListener(this._map,a,c)};this.addMapListenerOnce=function(a,c){google.maps.event.addListenerOnce(this._map,a,c)};this.addListener=function(a,c,b){google.maps.event.addListener(a,
c,b)};this.addListenerOnce=function(a,c,b){google.maps.event.addListenerOnce(a,c,b)};this.mapTrigger=function(a){google.maps.event.trigger(this._map,a)};this.trigger=function(a,c){google.maps.event.trigger(a,c)};this.addMarker=function(a){var c={};if(angular.extend(c,a),!(c.position instanceof google.maps.LatLng))throw"markerOptions did not contain a position";a=new google.maps.Marker(c);c=a.getPosition();if(this.hasMarker(c.lat(),c.lng()))return!1;c=c.toUrlValue(this.precision);return this._markers[c]=
a,a.setMap(this._map),!0};this.hasMarker=function(a,c){return this.getMarker(a,c)instanceof google.maps.Marker};this.getMarker=function(a,c){if(null==a||null==c)throw"lat or lng was null";var b=(new google.maps.LatLng(a,c)).toUrlValue(this.precision);return b in this._markers?this._markers[b]:null};this.removeMarker=function(a,c){if(null==a||null==c)throw"lat or lng was null";var b=!1,l=(new google.maps.LatLng(a,c)).toUrlValue(this.precision),e=this._markers[l];return e&&(e.setMap(null),b=!0),this._markers[l]=
null,delete this._markers[l],b};this.fitToMarkers=function(){var a=new google.maps.LatLngBounds;this.forEachMarker(function(c){a.extend(c.getPosition())});this.bounds=a};this.forEachMarker=function(a){if(null==a)throw"fn was null or undefined";angular.forEach(this._markers,function(c){null!=c&&a(c)})};angular.bind(this,function(a,b){var j=a.gmMapId();if(!j)throw"angulargm must have non-empty gmMapId attribute";var l=b.find("[id]");l.attr("id",j);var m=this._getConfig(a,c);this._map=this._createMap(j,
l,m,e);this._markers={};this.dragging=!1;Object.defineProperties(this,{precision:{value:3,writeable:!1},center:{configurable:!0,get:function(){return this._map.getCenter()},set:function(a){if(g(a))throw"center contains null or NaN";!f(this.center,a)&&this._map.panTo(a)}},zoom:{configurable:!0,get:function(){return this._map.getZoom()},set:function(a){if(null==a||isNaN(a))throw"zoom was null or NaN";this.zoom!==a&&this._map.setZoom(a)}},bounds:{configurable:!0,get:function(){return this._map.getBounds()},
set:function(a){if(g(a.getSouthWest())||g(a.getNorthEast()))throw"bounds contains null or NaN";!h(this.bounds,a)&&this._map.fitBounds(a)}}});this._initDragListeners();a.$on("$destroy",angular.bind(this,this._destroy,j))})(a,b)}])})();angular.module("$strap.directives",[]).directive("bsTooltip",["$parse","$compile",function(a){return{restrict:"A",scope:!0,link:function(b,d,c){var e=a(c.bsTooltip)(b);b.$watch(c.bsTooltip,function(a,c){a!==c&&(e=a)});if(c.unique)d.on("show",function(){$(".tooltip.in").each(function(){var a=$(this),c=a.data("tooltip");c&&!c.$element.is(d)&&a.tooltip("hide")})});d.tooltip({title:function(){return angular.isFunction(e)?e.apply(null,arguments):e},html:!0});c=d.data("tooltip");c.show=function(){var a=
$.Event("show");this.$element.trigger(a);if(!a.isDefaultPrevented())return a=$.fn.tooltip.Constructor.prototype.show.apply(this,arguments),this.tip().data("tooltip",this),a};c.hide=function(){var a=$.Event("hide");this.$element.trigger(a);if(!a.isDefaultPrevented())return $.fn.tooltip.Constructor.prototype.hide.apply(this,arguments)};b._tooltip=function(a){d.tooltip(a)};b.hide=function(){d.tooltip("hide")};b.show=function(){d.tooltip("show")};b.dismiss=b.hide}}}]);angular.module("ui.bootstrap","ui.bootstrap.tpls ui.bootstrap.accordion ui.bootstrap.alert ui.bootstrap.buttons ui.bootstrap.carousel ui.bootstrap.collapse ui.bootstrap.dialog ui.bootstrap.dropdownToggle ui.bootstrap.modal ui.bootstrap.pagination ui.bootstrap.popover ui.bootstrap.progressbar ui.bootstrap.tabs ui.bootstrap.tooltip ui.bootstrap.transition ui.bootstrap.typeahead".split(" "));angular.module("ui.bootstrap.tpls","template/accordion/accordion-group.html template/accordion/accordion.html template/alert/alert.html template/carousel/carousel.html template/carousel/slide.html template/dialog/message.html template/pagination/pagination.html template/popover/popover.html template/progressbar/bar.html template/progressbar/progress.html template/tabs/pane.html template/tabs/tabs.html template/tooltip/tooltip-popup.html template/typeahead/typeahead.html".split(" "));
angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,d){this.groups=[];this.closeOthers=function(c){(angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):d.closeOthers)&&angular.forEach(this.groups,function(a){a!==c&&(a.isOpen=!1)})};this.addGroup=function(a){var b=this;this.groups.push(a);a.$on("$destroy",function(){b.removeGroup(a)})};this.removeGroup=
function(a){-1!==this.groups.indexOf(a)&&this.groups.splice(this.groups.indexOf(a),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(a){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=
function(a){this.heading=a}}],link:function(b,d,c,e){var f,h;e.addGroup(b);b.isOpen=!1;c.isOpen&&(f=a(c.isOpen),h=f.assign,b.$watch(function(){return f(b.$parent)},function(a){b.isOpen=a}),b.isOpen=f?f(b.$parent):!1);b.$watch("isOpen",function(a){a&&e.closeOthers(b);h&&h(b.$parent,a)})}}}]).directive("accordionHeading",function(){return{restrict:"E",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(a,b,d){return function(a,b,f,h){h.setHeading(d(a,function(){}))}}}}).directive("accordionTransclude",
function(){return{require:"^accordionGroup",link:function(a,b,d,c){a.$watch(function(){return c[d.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}});angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}});
angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(a){var b=a.activeClass||"active",d=a.toggleEvent||"click";return{require:"ngModel",link:function(a,e,f,h){var g=a.$eval(f.btnRadio);a.$watch(function(){return h.$modelValue},function(a){angular.equals(a,g)?e.addClass(b):e.removeClass(b)});e.bind(d,function(){e.hasClass(b)||a.$apply(function(){h.$setViewValue(g)})})}}}]).directive("btnCheckbox",
["buttonConfig",function(a){var b=a.activeClass||"active",d=a.toggleEvent||"click";return{require:"ngModel",link:function(a,e,f,h){var g=a.$eval(f.btnCheckboxTrue),k=a.$eval(f.btnCheckboxFalse),g=angular.isDefined(g)?g:!0,k=angular.isDefined(k)?k:!1;a.$watch(function(){return h.$modelValue},function(a){angular.equals(a,g)?e.addClass(b):e.removeClass(b)});e.bind(d,function(){a.$apply(function(){h.$setViewValue(e.hasClass(b)?k:g)})})}}}]);
angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(a,b,d){function c(){function e(){k?(a.next(),c()):a.pause()}g&&b.cancel(g);var j=+a.interval;!isNaN(j)&&0<=j&&(g=b(e,j))}var e=this,f=e.slides=[],h=-1,g,k;e.currentSlide=null;e.select=function(g,j){function l(){if(e.currentSlide&&angular.isString(j)&&!a.noTransition&&g.$element){g.$element.addClass(j);g.$element.attr("offsetWidth",g.$element[0].offsetWidth);
angular.forEach(f,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})});angular.extend(g,{direction:j,active:!0,entering:!0});angular.extend(e.currentSlide||{},{direction:j,leaving:!0});a.$currentTransition=d(g.$element,{});var b=g,l=e.currentSlide;a.$currentTransition.then(function(){m(b,l)},function(){m(b,l)})}else m(g,e.currentSlide);e.currentSlide=g;h=p;c()}function m(c,b){angular.extend(c,{direction:"",active:!0,leaving:!1,entering:!1});angular.extend(b||{},{direction:"",
active:!1,leaving:!1,entering:!1});a.$currentTransition=null}var p=f.indexOf(g);void 0===j&&(j=p>h?"next":"prev");g&&g!==e.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(l)):l())};e.indexOfSlide=function(a){return f.indexOf(a)};a.next=function(){return e.select(f[(h+1)%f.length],"next")};a.prev=function(){return e.select(f[0>h-1?f.length-1:h-1],"prev")};a.select=function(a){e.select(a)};a.isActive=function(a){return e.currentSlide===a};a.slides=function(){return f};a.$watch("interval",
c);a.play=function(){k||(k=!0,c())};a.pause=function(){k=!1;g&&b.cancel(g)};e.addSlide=function(c,b){c.$element=b;f.push(c);1===f.length||c.active?(e.select(f[f.length-1]),1==f.length&&a.play()):c.active=!1};e.removeSlide=function(a){var c=f.indexOf(a);f.splice(c,1);0<f.length&&a.active&&(c>=f.length?e.select(f[c-1]):e.select(f[c]))}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",
scope:{interval:"=",noTransition:"="}}}]).directive("slide",[function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"="},link:function(a,b,d,c){c.addSlide(a,b);a.$on("$destroy",function(){c.removeSlide(a)});a.$watch("active",function(b){b&&c.select(a)})}}}]);
angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){var b=function(a,c,b){c.removeClass("collapse");c.css({height:b});c.addClass("collapse")};return{link:function(d,c,e){var f,h=!0;d.$watch(function(){return c[0].scrollHeight},function(){0!==c[0].scrollHeight&&(f||(h?b(d,c,c[0].scrollHeight+"px"):b(d,c,"auto")))});d.$watch(e.collapse,function(a){a?(f=!0,h?(h=!1,b(d,c,0)):(b(d,c,c[0].scrollHeight+"px"),k({height:"0"}))):(h?(h=!1,f||b(d,
c,"auto")):k({height:c[0].scrollHeight+"px"}).then(function(){f||b(d,c,"auto")}),f=!1)});var g,k=function(b){g&&g.cancel();g=a(c,b);g.then(function(){g=void 0},function(){g=void 0});return g}}}}]);var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(a,b,d){a.title=d.title;a.message=d.message;a.buttons=d.buttons;a.close=function(a){b.close(a)}}]);
dialogModule.provider("$dialog",function(){var a={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",dialogOpenClass:"modal-open",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},b={},d=0;this.options=function(a){b=a};this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(c,e,f,h,g,k,n,j,l){function m(a){var c=angular.element("<div>");c.addClass(a);return c}
function p(c){var l=this;c=this.options=angular.extend({},a,b,c);this.backdropEl=m(c.backdropClass);c.backdropFade&&(this.backdropEl.addClass(c.transitionClass),this.backdropEl.removeClass(c.triggerClass));this.modalEl=m(c.dialogClass);c.dialogFade&&(this.modalEl.addClass(c.transitionClass),this.modalEl.removeClass(c.triggerClass));this.handledEscapeKey=function(a){27===a.which&&(l.close(),a.preventDefault(),l.$scope.$apply())};this.handleBackDropClick=function(a){l.close();a.preventDefault();l.$scope.$apply()}}
var q=e.find("body");p.prototype.isOpen=function(){return this._open};p.prototype.open=function(a,c){var b=this,l=this.options;a&&(l.templateUrl=a);c&&(l.controller=c);if(!l.template&&!l.templateUrl)throw Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");this._loadResolves().then(function(a){var c=a.$scope=b.$scope=a.$scope?a.$scope:h.$new();b.modalEl.html(a.$template);b.options.controller&&(a=g(b.options.controller,a),b.modalEl.contents().data("ngControllerController",
a));f(b.modalEl)(c);b._addElementsToDom();q.addClass(b.options.dialogOpenClass);setTimeout(function(){b.options.dialogFade&&b.modalEl.addClass(b.options.triggerClass);b.options.backdropFade&&b.backdropEl.addClass(b.options.triggerClass)});b._bindEvents()});this.deferred=n.defer();return this.deferred.promise};p.prototype.close=function(a){function c(a){a.removeClass(l.options.triggerClass)}function b(){l._open&&l._onCloseComplete(a)}var l=this,e=this._getFadingElements();q.removeClass(l.options.dialogOpenClass);
if(0<e.length)for(var m=e.length-1;0<=m;m--)j(e[m],c).then(b);else this._onCloseComplete(a)};p.prototype._getFadingElements=function(){var a=[];this.options.dialogFade&&a.push(this.modalEl);this.options.backdropFade&&a.push(this.backdropEl);return a};p.prototype._bindEvents=function(){this.options.keyboard&&q.bind("keydown",this.handledEscapeKey);this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick)};p.prototype._unbindEvents=function(){this.options.keyboard&&
q.unbind("keydown",this.handledEscapeKey);this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)};p.prototype._onCloseComplete=function(a){this._removeElementsFromDom();this._unbindEvents();this.deferred.resolve(a)};p.prototype._addElementsToDom=function(){q.append(this.modalEl);this.options.backdrop&&(0===d&&q.append(this.backdropEl),d++);this._open=!0};p.prototype._removeElementsFromDom=function(){this.modalEl.remove();this.options.backdrop&&
(d--,0===d&&this.backdropEl.remove());this._open=!1};p.prototype._loadResolves=function(){var a=[],b=[],j,e=this;this.options.template?j=n.when(this.options.template):this.options.templateUrl&&(j=c.get(this.options.templateUrl,{cache:k}).then(function(a){return a.data}));angular.forEach(this.options.resolve||[],function(c,j){b.push(j);a.push(angular.isString(c)?l.get(c):l.invoke(c))});b.push("$template");a.push(j);return n.all(a).then(function(a){var c={};angular.forEach(a,function(a,l){c[b[l]]=a});
c.dialog=e;return c})};return{dialog:function(a){return new p(a)},messageBox:function(a,c,b){return new p({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:a,message:c,buttons:b}}}})}}}]});
angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location","$window",function(a,b){var d=null,c;return{restrict:"CA",link:function(e,f){e.$watch(function(){return b.path()},function(){c&&c()});f.parent().bind("click",function(){c&&c()});f.bind("click",function(b){b.preventDefault();b.stopPropagation();b=!1;d&&(b=d===f,c());b||(f.parent().addClass("open"),d=f,c=function(b){b&&(b.preventDefault(),b.stopPropagation());a.unbind("click",c);f.parent().removeClass("open");
d=c=null},a.bind("click",c))})}}}]);
angular.module("ui.bootstrap.modal",["ui.bootstrap.dialog"]).directive("modal",["$parse","$dialog",function(a,b){return{restrict:"EA",terminal:!0,link:function(d,c,e){var f=angular.extend({},d.$eval(e.uiOptions||e.bsOptions||e.options)),h=e.modal||e.show,g,f=angular.extend(f,{template:c.html(),resolve:{$scope:function(){return d}}}),k=b.dialog(f);c.remove();g=e.close?function(){a(e.close)(d)}:function(){angular.isFunction(a(h).assign)&&a(h).assign(d,!1)};d.$watch(h,function(a){a?k.open().then(function(){g()}):
k.isOpen()&&k.close()})}}}]);
angular.module("ui.bootstrap.pagination",[]).constant("paginationConfig",{boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last"}).directive("pagination",["paginationConfig",function(a){return{restrict:"EA",scope:{numPages:"=",currentPage:"=",maxSize:"=",onSelectPage:"&"},templateUrl:"template/pagination/pagination.html",replace:!0,link:function(b,d,c){function e(a,c,b,j){return{number:a,text:c,active:b,disabled:j}}var f=angular.isDefined(c.boundaryLinks)?
b.$eval(c.boundaryLinks):a.boundaryLinks,h=angular.isDefined(c.directionLinks)?b.$eval(c.directionLinks):a.directionLinks,g=angular.isDefined(c.firstText)?c.firstText:a.firstText,k=angular.isDefined(c.previousText)?c.previousText:a.previousText,n=angular.isDefined(c.nextText)?c.nextText:a.nextText,j=angular.isDefined(c.lastText)?c.lastText:a.lastText;b.$watch("numPages + currentPage + maxSize",function(){b.pages=[];var a=b.maxSize&&b.maxSize<b.numPages?b.maxSize:b.numPages,c=b.currentPage-Math.floor(a/
2);1>c&&(c=1);c+a-1>b.numPages&&(c-=c+a-1-b.numPages);for(var d=c,a=c+a;d<a;d++)c=e(d,d,b.isActive(d),!1),b.pages.push(c);h&&(d=e(b.currentPage-1,k,!1,b.noPrevious()),b.pages.unshift(d),d=e(b.currentPage+1,n,!1,b.noNext()),b.pages.push(d));f&&(d=e(1,g,!1,b.noPrevious()),b.pages.unshift(d),d=e(b.numPages,j,!1,b.noNext()),b.pages.push(d));b.currentPage>b.numPages&&b.selectPage(b.numPages)});b.noPrevious=function(){return 1===b.currentPage};b.noNext=function(){return b.currentPage===b.numPages};b.isActive=
function(a){return b.currentPage===a};b.selectPage=function(a){!b.isActive(a)&&(0<a&&a<=b.numPages)&&(b.currentPage=a,b.onSelectPage({page:a}))}}}}]);
angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(a,b,d,c,e){return e("popover","click")}]);
angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(a,b,d){var c=angular.isDefined(b.animate)?a.$eval(b.animate):d.animate,e=angular.isDefined(b.autoType)?a.$eval(b.autoType):d.autoType,f=angular.isDefined(b.stackedTypes)?a.$eval("["+b.stackedTypes+"]"):d.stackedTypes;this.makeBar=function(a,b,d){var n=
angular.isObject(a)?a.value:a||0;b=angular.isObject(b)?b.value:b||0;a=angular.isObject(a)&&angular.isDefined(a.type)?a.type:e?f[d||0]:null;return{from:b,to:n,type:a,animate:c}};this.addBar=function(c){a.bars.push(c);a.totalPercent+=c.to};this.clearBars=function(){a.bars=[];a.totalPercent=0};this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",
link:function(a,b,d,c){a.$watch("value",function(a,b){c.clearBars();if(angular.isArray(a))for(var d=0,g=a.length;d<g;d++)c.addBar(c.makeBar(a[d],b[d],d));else c.addBar(c.makeBar(a,b))},!0);a.$watch("totalPercent",function(c){if(100<=c)a.onFull();else if(0>=c)a.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(a){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(b,d){b.$watch("width",function(c){b.animate?
(d.css("width",b.old+"%"),a(d,{width:c+"%"})):d.css("width",c+"%")})}}}]);
angular.module("ui.bootstrap.tabs",[]).controller("TabsController",["$scope","$element",function(a){var b=a.panes=[];this.select=a.select=function(a){angular.forEach(b,function(a){a.selected=!1});a.selected=!0};this.addPane=function(d){b.length||a.select(d);b.push(d)};this.removePane=function(d){var c=b.indexOf(d);b.splice(c,1);d.selected&&0<b.length&&a.select(b[c<b.length?c:c-1])}}]).directive("tabs",function(){return{restrict:"EA",transclude:!0,scope:{},controller:"TabsController",templateUrl:"template/tabs/tabs.html",
replace:!0}}).directive("pane",["$parse",function(a){return{require:"^tabs",restrict:"EA",transclude:!0,scope:{heading:"@"},link:function(b,d,c,e){var f,h;b.selected=!1;c.active&&(f=a(c.active),h=f.assign,b.$watch(function(){return f(b.$parent)},function(a){b.selected=a}),b.selected=f?f(b.$parent):!1);b.$watch("selected",function(a){a&&e.select(b);h&&h(b.$parent,a)});e.addPane(b);b.$on("$destroy",function(){e.removePane(b)})},templateUrl:"template/tabs/pane.html",replace:!0}}]);
angular.module("ui.bootstrap.tooltip",[]).provider("$tooltip",function(){var a={placement:"top",animation:!0},b={};this.options=function(a){angular.extend(b,a)};this.$get=["$window","$compile","$timeout","$parse",function(d,c,e,f){return function(h,g,k){var n=angular.extend({},a,b),j="<"+h+'-popup title="{{tt_title}}" content="{{tt_content}}" placement="{{tt_placement}}" animation="tt_animation()" is-open="tt_isOpen"></'+h+"-popup>";return{restrict:"EA",scope:!0,link:function(a,b,p){function q(){var c,
j,f,g,h,p;if(a.tt_content){s&&e.cancel(s);r.css({top:0,left:0,display:"block"});b.after(r);j=b;g=j[0].getBoundingClientRect();c=j.prop("offsetWidth");j=j.prop("offsetHeight");f=g.top+d.pageYOffset;g=g.left+d.pageXOffset;h=r.prop("offsetWidth");p=r.prop("offsetHeight");switch(a.tt_placement){case "right":c={top:f+j/2-p/2+"px",left:g+c+"px"};break;case "bottom":c={top:f+j+"px",left:g+c/2-h/2+"px"};break;case "left":c={top:f+j/2-p/2+"px",left:g-h+"px"};break;default:c={top:f-p+"px",left:g+c/2-h/2+"px"}}r.css(c);
a.tt_isOpen=!0}}function t(){a.tt_isOpen=!1;angular.isDefined(a.tt_animation)&&a.tt_animation()?s=e(function(){r.remove()},500):r.remove()}var r=c(j)(a),s;p.$observe(h,function(c){a.tt_content=c});p.$observe(h+"Title",function(c){a.tt_title=c});p.$observe(h+"Placement",function(c){a.tt_placement=angular.isDefined(c)?c:n.placement});p.$observe(h+"Animation",function(c){a.tt_animation=angular.isDefined(c)?f(c):function(){return n.animation}});a.tt_isOpen=!1;angular.isDefined(k)?(b.bind(g,function(){a.$apply(q)}),
b.bind(k,function(){a.$apply(t)})):b.bind(g,function(){a.tt_isOpen?a.$apply(t):a.$apply(q)})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","mouseenter","mouseleave")}]);
angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,d){function c(a){for(var c in a)if(void 0!==f.style[c])return a[c]}var e=function(c,f,k){k=k||{};var n=a.defer(),j=e[k.animation?"animationEndEventName":"transitionEndEventName"],l=function(){d.$apply(function(){c.unbind(j,l);n.resolve(c)})};j&&c.bind(j,l);b(function(){angular.isString(f)?c.addClass(f):angular.isFunction(f)?f(c):angular.isObject(f)&&c.css(f);j||n.resolve(c)});n.promise.cancel=
function(){j&&c.unbind(j,l);n.reject("Transition cancelled")};return n.promise},f=document.createElement("trans");e.transitionEndEventName=c({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"});e.animationEndEventName=c({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",msTransition:"MSAnimationEnd",transition:"animationend"});return e}]);
angular.module("ui.bootstrap.typeahead",[]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(d){var c=d.match(b);if(!c)throw Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+d+"'.");return{itemName:c[3],source:a(c[4]),viewMapper:a(c[2]||c[1]),modelMapper:a(c[1])}}}}]).directive("typeahead",["$compile","$q","$document","typeaheadParser",
function(a,b,d,c){var e=[9,13,27,38,40];return{require:"ngModel",link:function(f,h,g,k){var n=k.$modelValue,j=f.$eval(g.typeaheadMinLength)||1,l=c.parse(g.typeahead),m=f.$new();f.$on("$destroy",function(){m.$destroy()});var p=function(){m.matches=[];m.activeIdx=-1};p();m.query=void 0;k.$parsers.push(function(a){p();if(n)return a;if(a&&a.length>=j){var c={$viewValue:a};b.when(l.source(m,c)).then(function(b){if(a===k.$viewValue)if(0<b.length){m.activeIdx=0;for(var j=m.matches.length=0;j<b.length;j++)c[l.itemName]=
b[j],m.matches.push({label:l.viewMapper(m,c),model:b[j]});m.query=a}else p()},p)}});k.$render=function(){var a={};a[l.itemName]=n;h.val(l.viewMapper(m,a)||k.$viewValue);n=void 0};m.select=function(a){var c={};c[l.itemName]=n=m.matches[a].model;k.$setViewValue(l.modelMapper(m,c));k.$render()};h.bind("keydown",function(a){0===m.matches.length||-1===e.indexOf(a.which)||(a.preventDefault(),40===a.which?(m.activeIdx=(m.activeIdx+1)%m.matches.length,m.$digest()):38===a.which?(m.activeIdx=(m.activeIdx?m.activeIdx:
m.matches.length)-1,m.$digest()):13===a.which||9===a.which?m.$apply(function(){m.select(m.activeIdx)}):27===a.which&&(a.stopPropagation(),m.matches=[],m.$digest()))});d.find("body").bind("click",function(){m.matches=[];m.$digest()});f=a("<typeahead-popup matches='matches' active='activeIdx' select='select(activeIdx)' query='query'></typeahead-popup>")(m);h.after(f)}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead.html",
link:function(a){a.isOpen=function(){return 0<a.matches.length};a.isActive=function(b){return a.active==b};a.selectActive=function(b){a.active=b};a.selectMatch=function(b){a.select({activeIdx:b})}}}}).filter("typeaheadHighlight",function(){return function(a,b){return b?a.replace(RegExp(b,"gi"),"<strong>$&</strong>"):b}});angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="accordion-group">  <div class="accordion-heading" ><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></div>  <div class="accordion-body" collapse="!isOpen">    <div class="accordion-inner" ng-transclude></div>  </div></div>')}]);
angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="accordion" ng-transclude></div>')}]);angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html","<div class='alert' ng-class='type && \"alert-\" + type'>    <button type='button' class='close' ng-click='close()'>&times;</button>    <div ng-transclude></div></div>")}]);
angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">    <ol class="carousel-indicators" ng-show="slides().length > 1">        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>    </ol>    <div class="carousel-inner" ng-transclude></div>    <a ng-click="prev()" class="carousel-control left" ng-show="slides().length > 1">&lsaquo;</a>    <a ng-click="next()" class="carousel-control right" ng-show="slides().length > 1">&rsaquo;</a></div>')}]);
angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{    'active': leaving || (active && !entering),    'prev': (next || active) && direction=='prev',    'next': (next || active) && direction=='next',    'right': direction=='prev',    'left': direction=='next'  }\" class=\"item\" ng-transclude></div>")}]);
angular.module("template/dialog/message.html",[]).run(["$templateCache",function(a){a.put("template/dialog/message.html",'<div class="modal-header">\t<h1>{{ title }}</h1></div><div class="modal-body">\t<p>{{ message }}</p></div><div class="modal-footer">\t<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class=btn ng-class="btn.cssClass">{{ btn.label }}</button></div>')}]);
angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<div class="pagination"><ul>  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>  </ul></div>')}]);angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">  <div class="arrow"></div>  <div class="popover-inner">      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>      <div class="popover-content" ng-bind="content"></div>  </div></div>')}]);
angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="bar" ng-class=\'type && "bar-" + type\'></div>')}]);angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress"><progressbar ng-repeat="bar in bars" width="bar.to" old="bar.from" animate="bar.animate" type="bar.type"></progressbar></div>')}]);
angular.module("template/tabs/pane.html",[]).run(["$templateCache",function(a){a.put("template/tabs/pane.html",'<div class="tab-pane" ng-class="{active: selected}" ng-show="selected" ng-transclude></div>')}]);angular.module("template/tabs/tabs.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabs.html",'<div class="tabbable">  <ul class="nav nav-tabs">    <li ng-repeat="pane in panes" ng-class="{active:pane.selected}">      <a ng-click="select(pane)">{{pane.heading}}</a>    </li>  </ul>  <div class="tab-content" ng-transclude></div></div>')}]);
angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">  <div class="tooltip-arrow"></div>  <div class="tooltip-inner" ng-bind="content"></div></div>')}]);angular.module("template/typeahead/typeahead.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead.html",'<div class="dropdown clearfix" ng-class="{open: isOpen()}">    <ul class="typeahead dropdown-menu">        <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)">            <a tabindex="-1" ng-click="selectMatch($index)" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>        </li>    </ul></div>')}]);!function(a){var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(c,b,d){var h;this.type=c;this.$element=a(b);this.options=this.getOptions(d);this.enabled=!0;b=this.options.trigger.split(" ");for(d=b.length;d--;)if(h=b[d],"click"==h)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else"manual"!=h&&(c="hover"==h?"mouseenter":"focus",h="hover"==h?"mouseleave":"blur",this.$element.on(c+"."+this.type,this.options.selector,a.proxy(this.enter,
this)),this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(c){c=a.extend({},a.fn[this.type].defaults,this.$element.data(),c);c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay});return c},enter:function(c){var b=a.fn[this.type].defaults,d={},h;this._options&&a.each(this._options,function(a,c){b[a]!=c&&(d[a]=c)},this);h=
a(c.currentTarget)[this.type](d).data(this.type);if(!h.options.delay||!h.options.delay.show)return h.show();clearTimeout(this.timeout);h.hoverState="in";this.timeout=setTimeout(function(){"in"==h.hoverState&&h.show()},h.options.delay.show)},leave:function(c){var b=a(c.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!b.options.delay||!b.options.delay.hide)return b.hide();b.hoverState="out";this.timeout=setTimeout(function(){"out"==b.hoverState&&
b.hide()},b.options.delay.hide)},show:function(){var c,b,d,h,g;b=a.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(b),!b.isDefaultPrevented())){c=this.tip();this.setContent();this.options.animation&&c.addClass("fade");h="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement;c.detach().css({top:0,left:0,display:"block"});this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);b=
this.getPosition();d=c[0].offsetWidth;c=c[0].offsetHeight;switch(h){case "bottom":g={top:b.top+b.height,left:b.left+b.width/2-d/2};break;case "top":g={top:b.top-c,left:b.left+b.width/2-d/2};break;case "left":g={top:b.top+b.height/2-c/2,left:b.left-d};break;case "right":g={top:b.top+b.height/2-c/2,left:b.left+b.width}}this.applyPlacement(g,h);this.$element.trigger("shown")}},applyPlacement:function(a,b){var d=this.tip(),h=d[0].offsetWidth,g=d[0].offsetHeight,k,n,j;d.offset(a).addClass(b).addClass("in");
k=d[0].offsetWidth;n=d[0].offsetHeight;"top"==b&&n!=g&&(a.top=a.top+g-n,j=!0);"bottom"==b||"top"==b?(g=0,0>a.left&&(g=-2*a.left,a.left=0,d.offset(a),k=d[0].offsetWidth),this.replaceArrow(g-h+k,k,"left")):this.replaceArrow(n-g,n,"top");j&&d.offset(a)},replaceArrow:function(a,b,d){this.arrow().css(d,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){var b=
this.tip(),d=a.Event("hide");this.$element.trigger(d);if(!d.isDefaultPrevented()){b.removeClass("in");if(a.support.transition&&this.$tip.hasClass("fade")){var f=setTimeout(function(){b.off(a.support.transition.end).detach()},500);b.one(a.support.transition.end,function(){clearTimeout(f);b.detach()})}else b.detach();this.$element.trigger("hidden");return this}},fixTitle:function(){var a=this.$element;if(a.attr("title")||"string"!=typeof a.attr("data-original-title"))a.attr("data-original-title",a.attr("title")||
"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=
this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){b=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;b.tip().hasClass("in")?b.hide():b.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var d=a.fn.tooltip;
a.fn.tooltip=function(c){return this.each(function(){var d=a(this),f=d.data("tooltip"),h="object"==typeof c&&c;f||d.data("tooltip",f=new b(this,h));if("string"==typeof c)f[c]()})};a.fn.tooltip.Constructor=b;a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};a.fn.tooltip.noConflict=function(){a.fn.tooltip=d;return this}}(window.jQuery);(function(){function a(a,b){var c=this,d=new google.maps.OverlayView;d.onAdd=function(){c.init_(a,b)};d.draw=function(){};d.onRemove=function(){};d.setMap(a);this.prjov_=d}var b=function(a){switch(a){case "thin":a="2px";break;case "medium":a="4px";break;case "thick":a="6px";break}return a},d=function(a){var c,d={};if(document.defaultView&&document.defaultView.getComputedStyle){if(c=a.ownerDocument.defaultView.getComputedStyle(a,""))return d.top=parseInt(c.borderTopWidth,10)||0,d.bottom=parseInt(c.borderBottomWidth,
10)||0,d.left=parseInt(c.borderLeftWidth,10)||0,d.right=parseInt(c.borderRightWidth,10)||0,d}else if(document.documentElement.currentStyle&&a.currentStyle)return d.top=parseInt(b(a.currentStyle.borderTopWidth),10)||0,d.bottom=parseInt(b(a.currentStyle.borderBottomWidth),10)||0,d.left=parseInt(b(a.currentStyle.borderLeftWidth),10)||0,d.right=parseInt(b(a.currentStyle.borderRightWidth),10)||0,d;d.top=parseInt(a.style["border-top-width"],10)||0;d.bottom=parseInt(a.style["border-bottom-width"],10)||0;
d.left=parseInt(a.style["border-left-width"],10)||0;d.right=parseInt(a.style["border-right-width"],10)||0;return d},c=0,e=0,f=function(){c="undefined"!==typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;e="undefined"!==typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};f();var h=function(a){var b=0,d=0;a=a||window.event;"undefined"!==typeof a.pageX?(b=a.pageX,d=a.pageY):"undefined"!==typeof a.clientX&&
(b=a.clientX+c,d=a.clientY+e);return{left:b,top:d}},g=function(a){var b=a.offsetLeft,c=a.offsetTop;for(a=a.offsetParent;null!==a;){a!==document.body&&a!==document.documentElement&&(b-=a.scrollLeft,c-=a.scrollTop);var d=a,e=d.offsetLeft,f=d.offsetTop;if(!e&&!f&&window.getComputedStyle&&(d=document.defaultView.getComputedStyle(d,null).MozTransform||document.defaultView.getComputedStyle(d,null).WebkitTransform)&&"string"===typeof d)d=d.split(","),e+=parseInt(d[4],10)||0,f+=parseInt(d[5],10)||0;b+=e;
c+=f;a=a.offsetParent}return{left:b,top:c}},k=function(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},n=function(a,b){"undefined"!==typeof b&&(a.style.opacity=b);"undefined"!==typeof a.style.opacity&&""!==a.style.opacity&&(a.style.filter="alpha(opacity="+100*a.style.opacity+")")};a.prototype.init_=function(a,b){var c,e=this;this.map_=a;b=b||{};this.key_=b.key||"shift";this.key_=this.key_.toLowerCase();this.borderWidths_=d(this.map_.getDiv());this.veilDiv_=[];for(c=0;4>c;c++)this.veilDiv_[c]=
document.createElement("div"),this.veilDiv_[c].onselectstart=function(){return!1},k(this.veilDiv_[c].style,{backgroundColor:"gray",opacity:0.25,cursor:"crosshair"}),k(this.veilDiv_[c].style,b.paneStyle),k(this.veilDiv_[c].style,b.veilStyle),k(this.veilDiv_[c].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[c].style.MozUserSelect="none"),n(this.veilDiv_[c]),"transparent"===this.veilDiv_[c].style.backgroundColor&&(this.veilDiv_[c].style.backgroundColor=
"white",n(this.veilDiv_[c],0)),this.map_.getDiv().appendChild(this.veilDiv_[c]);this.noZoom_=b.noZoom||!1;this.visualEnabled_=b.visualEnabled||!1;this.visualClass_=b.visualClass||"";this.visualPosition_=b.visualPosition||google.maps.ControlPosition.LEFT_TOP;this.visualPositionOffset_=b.visualPositionOffset||new google.maps.Size(35,0);this.visualPositionIndex_=b.visualPositionIndex||null;this.visualSprite_=b.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png";
this.visualSize_=b.visualSize||new google.maps.Size(20,20);this.visualTips_=b.visualTips||{};this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode";this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode";this.boxDiv_=document.createElement("div");k(this.boxDiv_.style,{border:"4px solid #736AFF"});k(this.boxDiv_.style,b.boxStyle);k(this.boxDiv_.style,{position:"absolute",display:"none"});n(this.boxDiv_);this.map_.getDiv().appendChild(this.boxDiv_);this.boxBorderWidths_=d(this.boxDiv_);
this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(a){e.onKeyDown_(a)}),google.maps.event.addDomListener(document,"keyup",function(a){e.onKeyUp_(a)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(a){e.onMouseDown_(a)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(a){e.onMouseDown_(a)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(a){e.onMouseDown_(a)}),google.maps.event.addDomListener(this.veilDiv_[3],
"mousedown",function(a){e.onMouseDown_(a)}),google.maps.event.addDomListener(document,"mousedown",function(a){e.onMouseDownDocument_(a)}),google.maps.event.addDomListener(document,"mousemove",function(a){e.onMouseMove_(a)}),google.maps.event.addDomListener(document,"mouseup",function(a){e.onMouseUp_(a)}),google.maps.event.addDomListener(window,"scroll",f)];this.dragging_=this.mouseDown_=this.hotKeyDown_=!1;this.mapPosn_=this.mousePosn_=this.mapHeight_=this.mapWidth_=this.endPt_=this.startPt_=null;
this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)};a.prototype.initControl_=function(a){var b,c,d=this;b=document.createElement("div");b.className=this.visualClass_;b.style.position="relative";b.style.overflow="hidden";b.style.height=this.visualSize_.height+
"px";b.style.width=this.visualSize_.width+"px";b.title=this.visualTips_.off;c=document.createElement("img");c.src=this.visualSprite_;c.style.position="absolute";c.style.left=-(2*this.visualSize_.width)+"px";c.style.top="0px";b.appendChild(c);b.onclick=function(a){d.hotKeyDown_=!d.hotKeyDown_;d.hotKeyDown_?(d.buttonDiv_.firstChild.style.left=-(0*d.visualSize_.width)+"px",d.buttonDiv_.title=d.visualTips_.on,d.activatedByControl_=!0,google.maps.event.trigger(d,"activate")):(d.buttonDiv_.firstChild.style.left=
-(2*d.visualSize_.width)+"px",d.buttonDiv_.title=d.visualTips_.off,google.maps.event.trigger(d,"deactivate"));d.onMouseMove_(a)};b.onmouseover=function(){d.buttonDiv_.firstChild.style.left=-(1*d.visualSize_.width)+"px"};b.onmouseout=function(){d.hotKeyDown_?(d.buttonDiv_.firstChild.style.left=-(0*d.visualSize_.width)+"px",d.buttonDiv_.title=d.visualTips_.on):(d.buttonDiv_.firstChild.style.left=-(2*d.visualSize_.width)+"px",d.buttonDiv_.title=d.visualTips_.off)};b.ondragstart=function(){return!1};
k(b.style,{cursor:"pointer",marginTop:a.height+"px",marginLeft:a.width+"px"});return b};a.prototype.isHotKeyDown_=function(a){var b;a=a||window.event;b=a.shiftKey&&"shift"===this.key_||a.altKey&&"alt"===this.key_||a.ctrlKey&&"ctrl"===this.key_;if(!b)switch(a.keyCode){case 16:"shift"===this.key_&&(b=!0);break;case 17:"ctrl"===this.key_&&(b=!0);break;case 18:"alt"===this.key_&&(b=!0)}return b};a.prototype.isMouseOnMap_=function(){var a=this.mousePosn_;if(a){var b=this.mapPosn_,c=this.map_.getDiv();
return a.left>b.left&&a.left<b.left+c.offsetWidth&&a.top>b.top&&a.top<b.top+c.offsetHeight}return!1};a.prototype.setVeilVisibility_=function(){var a;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){a=this.map_.getDiv();this.mapWidth_=a.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right);this.mapHeight_=a.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom);if(this.activatedByControl_){a=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width;var b=parseInt(this.buttonDiv_.style.top,
10)+this.visualPositionOffset_.height,c=this.visualSize_.width,d=this.visualSize_.height;this.veilDiv_[0].style.top="0px";this.veilDiv_[0].style.left="0px";this.veilDiv_[0].style.width=a+"px";this.veilDiv_[0].style.height=this.mapHeight_+"px";this.veilDiv_[1].style.top="0px";this.veilDiv_[1].style.left=a+c+"px";this.veilDiv_[1].style.width=this.mapWidth_-(a+c)+"px";this.veilDiv_[1].style.height=this.mapHeight_+"px";this.veilDiv_[2].style.top="0px";this.veilDiv_[2].style.left=a+"px";this.veilDiv_[2].style.width=
c+"px";this.veilDiv_[2].style.height=b+"px";this.veilDiv_[3].style.top=b+d+"px";this.veilDiv_[3].style.left=a+"px";this.veilDiv_[3].style.width=c+"px";this.veilDiv_[3].style.height=this.mapHeight_-(b+d)+"px"}else{this.veilDiv_[0].style.left="0px";this.veilDiv_[0].style.top="0px";this.veilDiv_[0].style.width=this.mapWidth_+"px";this.veilDiv_[0].style.height=this.mapHeight_+"px";for(a=1;a<this.veilDiv_.length;a++)this.veilDiv_[a].style.width="0px",this.veilDiv_[a].style.height="0px"}for(a=0;a<this.veilDiv_.length;a++)this.veilDiv_[a].style.display=
"block"}else for(a=0;a<this.veilDiv_.length;a++)this.veilDiv_[a].style.display="none"};a.prototype.onKeyDown_=function(a){this.map_&&(!this.hotKeyDown_&&this.isHotKeyDown_(a))&&(this.mapPosn_=g(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))};a.prototype.getMousePoint_=function(a){a=h(a);var b=new google.maps.Point;b.x=a.left-this.mapPosn_.left-this.borderWidths_.left;b.y=a.top-this.mapPosn_.top-this.borderWidths_.top;
b.x=Math.min(b.x,this.mapWidth_);b.y=Math.min(b.y,this.mapHeight_);b.x=Math.max(b.x,0);b.y=Math.max(b.y,0);return b};a.prototype.onMouseDown_=function(a){this.map_&&this.hotKeyDown_&&(this.mapPosn_=g(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(a),this.boxDiv_.style.width=this.boxDiv_.style.height="0px",a=this.prjov_.getProjection().fromContainerPixelToLatLng(this.startPt_),google.maps.event.trigger(this,"dragstart",a))};a.prototype.onMouseDownDocument_=function(){this.mouseDown_=
!0};a.prototype.onMouseMove_=function(a){this.mousePosn_=h(a);if(this.dragging_){this.endPt_=this.getMousePoint_(a);a=Math.min(this.startPt_.x,this.endPt_.x);var b=Math.min(this.startPt_.y,this.endPt_.y),c=Math.abs(this.startPt_.x-this.endPt_.x),d=Math.abs(this.startPt_.y-this.endPt_.y),e=Math.max(0,c-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),f=Math.max(0,d-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px";this.veilDiv_[0].style.left="0px";
this.veilDiv_[0].style.width=a+"px";this.veilDiv_[0].style.height=this.mapHeight_+"px";this.veilDiv_[1].style.top="0px";this.veilDiv_[1].style.left=a+c+"px";this.veilDiv_[1].style.width=this.mapWidth_-(a+c)+"px";this.veilDiv_[1].style.height=this.mapHeight_+"px";this.veilDiv_[2].style.top="0px";this.veilDiv_[2].style.left=a+"px";this.veilDiv_[2].style.width=c+"px";this.veilDiv_[2].style.height=b+"px";this.veilDiv_[3].style.top=b+d+"px";this.veilDiv_[3].style.left=a+"px";this.veilDiv_[3].style.width=
c+"px";this.veilDiv_[3].style.height=this.mapHeight_-(b+d)+"px";this.boxDiv_.style.top=b+"px";this.boxDiv_.style.left=a+"px";this.boxDiv_.style.width=e+"px";this.boxDiv_.style.height=f+"px";this.boxDiv_.style.display="block";google.maps.event.trigger(this,"drag",new google.maps.Point(a,b+d),new google.maps.Point(a+c,b),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=g(this.map_.getDiv()),this.setVeilVisibility_())};a.prototype.onMouseUp_=function(a){var b,c=this;this.mouseDown_=
!1;if(this.dragging_)if(this.getMousePoint_(a).x===this.startPt_.x&&this.getMousePoint_(a).y===this.startPt_.y)this.onKeyUp_(a);else{var d=Math.min(this.startPt_.x,this.endPt_.x),e=Math.min(this.startPt_.y,this.endPt_.y);b=Math.abs(this.startPt_.x-this.endPt_.x);var f=Math.abs(this.startPt_.y-this.endPt_.y),d=d+this.borderWidths_.left,e=e+this.borderWidths_.top,g=this.prjov_.getProjection(),f=g.fromContainerPixelToLatLng(new google.maps.Point(d,e+f)),e=g.fromContainerPixelToLatLng(new google.maps.Point(d+
b,e)),d=new google.maps.LatLngBounds(f,e);this.noZoom_?this.boxDiv_.style.display="none":(b=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<b&&this.map_.setZoom(b),f=g.fromLatLngToContainerPixel(f),g=g.fromLatLngToContainerPixel(e),f.x-=this.borderWidths_.left,f.y-=this.borderWidths_.top,g.x-=this.borderWidths_.left,g.y-=this.borderWidths_.top,this.boxDiv_.style.left=f.x+"px",this.boxDiv_.style.top=g.y+"px",this.boxDiv_.style.width=Math.abs(g.x-f.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+
"px",this.boxDiv_.style.height=Math.abs(g.y-f.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){c.boxDiv_.style.display="none"},1E3));this.dragging_=!1;this.onMouseMove_(a);google.maps.event.trigger(this,"dragend",d);if(!this.isHotKeyDown_(a))this.onKeyUp_(a)}};a.prototype.onKeyUp_=function(){var a,b,c,d,e;b=null;if(this.map_&&this.hotKeyDown_){this.hotKeyDown_=!1;this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,a=Math.min(this.startPt_.x,this.endPt_.x),
b=Math.min(this.startPt_.y,this.endPt_.y),c=Math.abs(this.startPt_.x-this.endPt_.x),d=Math.abs(this.startPt_.y-this.endPt_.y),e=this.prjov_.getProjection(),d=e.fromContainerPixelToLatLng(new google.maps.Point(a,b+d)),a=e.fromContainerPixelToLatLng(new google.maps.Point(a+c,b)),b=new google.maps.LatLngBounds(d,a));for(a=0;a<this.veilDiv_.length;a++)this.veilDiv_[a].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=
this.visualTips_.off,this.buttonDiv_.style.display="");google.maps.event.trigger(this,"deactivate",b)}};google.maps.Map.prototype.enableKeyDragZoom=function(b){this.dragZoom_=new a(this,b)};google.maps.Map.prototype.disableKeyDragZoom=function(){var a,b=this.dragZoom_;if(b){for(a=0;a<b.listeners_.length;++a)google.maps.event.removeListener(b.listeners_[a]);this.getDiv().removeChild(b.boxDiv_);for(a=0;a<b.veilDiv_.length;a++)this.getDiv().removeChild(b.veilDiv_[a]);b.visualEnabled_&&this.controls[b.visualPosition_].removeAt(b.controlIndex_);
b.prjov_.setMap(null);this.dragZoom_=null}};google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_};google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}})();(function(){angular.module("hutmap","hutmapServices hutmapFilters AngularGM ngResource $strap.directives ui.bootstrap".split(" "))})();(function(){angular.module("hutmapServices",[]).factory("Huts",["$http",function(a){return{query:function(b,d,c){a.get("/huts/api/v1/hutsearch/",{params:b}).success(d).error(c)}}}]).factory("Places",["$q",function(a){function b(a,b,c){c==google.maps.places.PlacesServiceStatus.OK?a.resolve(b):a.reject(c)}var d=angular.element('<div id="google-attributions"></div>'),c=new google.maps.places.PlacesService(d[0]),e=new google.maps.places.AutocompleteService;return{getDetails:function(d){var e=a.defer();
c.getDetails({reference:d},angular.bind(this,b,e));return e.promise},textSearch:function(d){var e=a.defer();c.textSearch(d,angular.bind(this,b,e));return e.promise},getPlacePredictions:function(c){var d=a.defer();e.getPlacePredictions({input:c},angular.bind(this,b,d));return d.promise}}}]).factory("utils",[function(){return{latLngFromUrlValue:function(a){a=a.split(",");return new google.maps.LatLng(a[0],a[1])},boundsFromUrlValue:function(a){a=a.split(",");return new google.maps.LatLngBounds(new google.maps.LatLng(a[0],
a[1]),new google.maps.LatLng(a[2],a[3]))}}}])})();(function(){angular.module("hutmap").config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/partials/home.html",activetab:"home"}).when("/map/",{templateUrl:"/partials/map.html",activetab:"map",reloadOnSearch:!1}).when("/about/",{templateUrl:"/partials/about.html",activetab:"about"});b.html5Mode(!0)}]).constant("hutmapMapId","map_canvas").value("mapOptions",{zoom:8,center:new google.maps.LatLng(46.87916,-120),mapTypeId:google.maps.MapTypeId.TERRAIN,streetViewControl:!1}).value("markerOptions",
{huts:{icon:"/static/img/marker_gray_small.png",shape:{coord:[6,0,2,2,0,6,6,13,12,6,10,2,6,0],type:"poly"},zIndex:0},selected:{icon:"/static/img/marker_yellow_small.png",zIndex:1}})})();(function(){angular.module("hutmapFilters",[]).filter("truncate",function(){return function(a,b,d){isNaN(b)&&(b=10);void 0===d&&(d="...");return null==a||0==a.length?null:a.length<=b||a.length-d.length<=b?a:String(a).substring(0,b-d.length)+d}})})();(function(){angular.module("hutmap.directives",[])})();(function(){angular.module("hutmap").controller("HutCtrl",["$scope","$location","$timeout","Huts",function(a,b,d,c){var e=0;a.loading=0;a.huts;a.hutsMeta;a.query;a.selectedHut;a.selectedHutRegion;a.selectedHutAgency;a.resetLoading=function(){a.loading=0};a.incLoading=function(){a.loading++};a.decLoading=function(){0<a.loading&&a.loading--};a.setQuery=function(b){a.query=b};a.setSelectedHut=function(b){a.selectedHut=b};a.$watch("query",function(b){if(null!=b){var h=++e;d(function(){h===e&&b&&(a.incLoading(),
c.query(b,function(b){a.decLoading();h===e&&(a.resetLoading(),a.huts=b.objects,a.hutsMeta=b.meta)},function(){a.decLoading()}))},1E3)}});a.$watch("hutsMeta.total_count",function(a){a&&console.log(a)})}])})();(function(){angular.module("hutmap").controller("HutmapCtrl",["$scope","$route",function(a,b){a.$route=b}]).controller("CarouselCtrl",["$scope","$route",function(a){a.carouselInterval=6E3;a.slides=[{title:"Big Hut",text:"lorem ipsum dolor",image:"/static/img/carousel/Big Hut.JPG"},{title:"Joe River Chickee",text:"lorem ipsum dolor",image:"/static/img/carousel/Joe River Chickee.JPG"},{title:"John Muir Shelter",text:"lorem ipsum dolor",image:"/static/img/carousel/John Muir Shelter.JPG"}]}]).controller("AlertCtrl",
["$scope",function(a){a.alerts=[];a.addAlert=function(b,d){a.alerts.push({type:b,msg:d})};a.closeAlert=function(b){a.alerts.splice(b,1)}}]).controller("HutInfoCtrl",["$scope",function(a){a.accuracy_tooltip="Coordinates provided, but unverifiable.;Wild ass guess.;Slightly better than a wild ass guess.;Found structure on satellite or topo map.;Surveyed with GPS by the Hutmap team.;Found on a map and surveyed by the Hutmap team.".split(";")}])})();(function(){angular.module("hutmap").controller("SearchCtrl",["$scope","$location","$route","$log","Places",function(a,b,d,c,e){a.submitting=!1;a.autocompleting=0;a.lastQuery;a.selected;a.getPlaces=function(b){return(a.lastQuery=b)&&!a.submitting?(a.autocompleting++,e.getPlacePredictions(b).then(function(b){0<a.autocompleting&&a.autocompleting--;return a.submitting?[]:b},function(){0<a.autocompleting&&a.autocompleting--;return[]})):[]};var f=function(b){a.submitting=!1;c.error(b);a.addAlert("error",
"There was an error retrieving search results. TODO: better messages")},h=function(c){a.submitting=!1;d.reload();b.path("/map/").search({}).search("m_zoom",8);c.geometry.location&&(b.search("m_center",c.geometry.location.toUrlValue()),b.search("m_selected",c.geometry.location.toUrlValue()));c.geometry.viewport&&b.search("m_bounds",c.geometry.viewport.toUrlValue())};a.$watch("selected",function(b){b&&a.submit()});a.submit=function(){if(a.selected){a.submitting=!0;a.autocompleting=0;var b=a.selected;
b.reference&&e.getDetails(b.reference).then(function(a){h(a)},f)}else if(b=a.lastQuery)a.submitting=!0,a.autocompleting=0,e.getPlacePredictions(b).then(function(a){e.getDetails(a[0].reference).then(function(a){h(a)},f)},f)}}])})();(function(){angular.module("hutmap").controller("MapConfigCtrl",["$scope","$http","hutmapMapId","angulargmContainer","mapOptions","markerOptions",function(a,b,d,c,e,f){c=c.getMapPromise(d);var h;a.hutmapMapId=d;a.mapOptions=e;a.markerOptions=f;a.getMarkerOptions=function(b){return angular.extend({title:b.name},a.markerOptions.huts)};a.selectHut=function(c,d){h&&h.setOptions(f.huts);h=c;c.setOptions(f.selected);d&&b.get(d.resource_uri).success(function(b){a.setSelectedHut(b)})};c.then(function(a){var b=
{MSR_TOPO:new google.maps.ImageMapType({name:"MSR USGS",alt:"USGS topos from Microsoft Research",minZoom:1,maxZoom:15,tileSize:new google.maps.Size(256,256),isPng:!1,getTileUrl:function(b,c){var d=a.getProjection(),e=Math.pow(2,c),f=new google.maps.Point(256*b.x/e,256*(b.y+1)/e),e=new google.maps.Point(256*(b.x+1)/e,256*b.y/e),f=d.fromPointToLatLng(f),d=d.fromPointToLatLng(e);return"http://msrmaps.com/ogcmap.ashx?version=1.1.1&request=GetMap&Layers=drg&Styles=default&SRS=EPSG:4326&BBOX="+[f.lng(),
f.lat(),d.lng(),d.lat()].join()+"&width=256&height=256&format=image/jpeg"}}),ARC_GIS_USA:new google.maps.ImageMapType({name:"ArcGIS USA",alt:"ArcGIS USA Topos",minZoom:1,maxZoom:15,tileSize:new google.maps.Size(256,256),isPng:!0,getTileUrl:function(a,b){var c=1<<b,d=a.x%c;0>d&&(d+=c);return"http://services.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/"+parseInt(b)+"/"+a.y+"/"+d}}),ARC_GIS_WORLD:new google.maps.ImageMapType({name:"ArcGIS World",alt:"ArcGIS World Topos",minZoom:1,
maxZoom:15,tileSize:new google.maps.Size(256,256),isPng:!0,getTileUrl:function(a,b){var c=1<<b,d=a.x%c;0>d&&(d+=c);return"http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/"+parseInt(b)+"/"+a.y+"/"+d}})};angular.forEach(b,function(b){a.mapTypes.set(b.name,b)});a.setOptions({mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.HYBRID,google.maps.MapTypeId.TERRAIN,b.MSR_TOPO.name,b.ARC_GIS_USA.name,b.ARC_GIS_WORLD.name]}});
a.enableKeyDragZoom({key:"alt",visualEnabled:!0})})}])})();(function(){angular.module("hutmap").controller("MapCtrl",["$scope","$location","$timeout","$q","utils",function(a,b,d,c,e){var f=c.defer(),h=c.defer();a.center;a.zoom;a.bounds;a.hutMarkerEvent;var g=function(){h.promise.then(function(){a.setSelectedHut(null);var c=b.search().m_selected;null!=c&&(a.hutMarkerEvent={event:"click",location:e.latLngFromUrlValue(c)})})};d=function(c,d){if(c!==d&&(a.center&&b.search("m_center",a.center.toUrlValue()),a.zoom&&b.search("m_zoom",a.zoom),a.selectedHut)){var e=
a.selectedHut.location;b.search("m_selected",e.coordinates[1]+","+e.coordinates[0])}};a.$watch("center != null && zoom != null",function(a){a&&f.resolve()});a.$watch("huts != null",function(a){a&&h.resolve()});a.$watch("center",d);a.$watch("zoom",d);a.$watch("selectedHut",d);a.$watch("bounds",function(b){b&&a.setQuery({bbox:b.toUrlValue(),limit:0})});a.$watch("huts",function(a){a&&g()});var k=b.search().m_center,n=b.search().m_zoom,j=b.search().m_bounds;b.search("m_center",null);b.search("m_zoom",
null);b.search("m_bounds",null);f.promise.then(function(){var b=null!=j;!b&&null!=k&&(a.center=e.latLngFromUrlValue(k));!b&&null!=n&&(a.zoom=Number(n));b&&(a.bounds=e.boundsFromUrlValue(j))});g()}])})();
